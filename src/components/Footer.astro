---
import { getCollection } from 'astro:content';

const today = new Date();

// Get site configuration from CMS
const settingsCollection = await getCollection('settings');
const siteConfig = settingsCollection[0]?.data || {};
---

<footer class="bg-deep-space-navy text-solar-white py-16">
	<div class="container mx-auto px-4">
		<div class="max-w-6xl mx-auto">
			<!-- Main Footer Content -->
			<div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
				<!-- Author Info -->
				<div class="md:col-span-2">
					<h3 class="font-primary font-bold text-2xl text-stellar-gold mb-4">
						{siteConfig.authorName || "Dane Griggs"}
					</h3>
					<p class="text-solar-white/80 mb-6 max-w-md">
						{siteConfig.tagline || "Sexy escapes with heart, humor, and no Mary Sues"}
					</p>
					<div class="flex space-x-4">
						{siteConfig.socialLinks?.facebook && (
							<a href={siteConfig.socialLinks.facebook} target="_blank" rel="noopener noreferrer" 
							   class="text-solar-white/60 hover:text-stellar-gold transition-colors">
								<span class="sr-only">Follow on Facebook</span>
								<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
									<path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
								</svg>
							</a>
						)}
						{siteConfig.socialLinks?.goodreads && (
							<a href={siteConfig.socialLinks.goodreads} target="_blank" rel="noopener noreferrer"
							   class="text-solar-white/60 hover:text-stellar-gold transition-colors">
								<span class="sr-only">Follow on Goodreads</span>
								<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
									<path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm6.5 9.5h-2.25V7.25h2.25V9.5zm-9 0h-2.25V7.25h2.25V9.5z"/>
								</svg>
							</a>
						)}
						{siteConfig.socialLinks?.email && (
							<a href={`mailto:${siteConfig.socialLinks.email}`}
							   class="text-solar-white/60 hover:text-stellar-gold transition-colors">
								<span class="sr-only">Send Email</span>
								<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
									<path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-.904.732-1.636 1.636-1.636h.749L12 10.58l9.615-6.759h.749c.904 0 1.636.732 1.636 1.636z"/>
								</svg>
							</a>
						)}
					</div>
				</div>
				
				<!-- Quick Links -->
				<div>
					<h4 class="font-semibold text-solar-white mb-4">Quick Links</h4>
					<ul class="space-y-2">
						<li><a href="/" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Home</a></li>
						<li><a href="/books" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Books</a></li>
						<li><a href="/series" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Series</a></li>
						<li><a href="/blog" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Blog</a></li>
						<li><a href="/about" class="text-solar-white/60 hover:text-stellar-gold transition-colors">About</a></li>
					</ul>
				</div>
				
				<!-- Featured Series -->
				<div>
					<h4 class="font-semibold text-solar-white mb-4">Featured Series</h4>
					<ul class="space-y-2">
						<li><a href="/series/saving-ceraste" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Saving Ceraste</a></li>
						<li><a href="/series/kokos-harbor" class="text-solar-white/60 hover:text-stellar-gold transition-colors">Koko's Harbor</a></li>
					</ul>
				</div>
			</div>
			
			<!-- Footer Bottom -->
			<div class="border-t border-solar-white/20 pt-8 flex flex-col md:flex-row justify-between items-center">
				<div class="text-solar-white/60 text-sm mb-4 md:mb-0">
					&copy; {today.getFullYear()} {siteConfig.authorName || "Dane Griggs"}. All rights reserved.
				</div>
				<div class="text-solar-white/40 text-xs">
					Sexy escapes with heart, humor, and no Mary Sues.
				</div>
			</div>
		</div>
	</div>
</footer>
