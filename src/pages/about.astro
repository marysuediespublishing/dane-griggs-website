---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';
import StarfieldBackground from '../components/ui/StarfieldBackground.tsx';

// Get site configuration from CMS
const settingsCollection = await getCollection('settings');
const siteConfig = settingsCollection[0]?.data || {};

// Get about page content from CMS
const pagesCollection = await getCollection('pages');
const aboutPageData = pagesCollection.find(page => page.data.pageType === 'about')?.data;
const aboutPage = aboutPageData || {
	hero: { title: '', tagline: '' },
	authorBio: { mainBio: '', secondaryBio: '', tertiaryBio: '' },
	philosophyCards: [],
	connectSection: { title: '', description: '' }
};
---

<Layout title="About - Dane Griggs">
	<Header />
	
	<!-- Starfield Background -->
	<StarfieldBackground client:load />
	
	<main class="relative z-10">
		<!-- Hero Section -->
		<section class="relative py-16 bg-gradient-to-br from-deep-space-navy via-nebula-purple to-deep-space-navy">
			<div class="absolute inset-0 bg-starfield opacity-30"></div>
			<div class="container mx-auto px-4 relative z-10">
				<div class="max-w-4xl mx-auto text-center">
					<h1 class="text-4xl md:text-6xl font-primary font-bold text-solar-white mb-6">
						<span class="bg-gradient-aurora bg-clip-text text-transparent">
							{aboutPage.hero?.title || "About Dane Griggs"}
						</span>
					</h1>
					<p class="text-xl text-stellar-gold font-medium mb-8">
						{aboutPage.hero?.tagline || siteConfig.tagline || "Sexy escapes with heart, humor, and no Mary Sues"}
					</p>
				</div>
			</div>
		</section>

		<!-- Author Bio Section -->
		<section class="py-16 bg-bg-secondary">
			<div class="container mx-auto px-4">
				<div class="max-w-4xl mx-auto">
					<div class="grid grid-cols-1 lg:grid-cols-3 gap-12 items-start">
						<!-- Author Photo Placeholder -->
						<div class="lg:col-span-1">
							<div class="bg-gradient-cosmic rounded-xl p-8 text-center">
								<div class="w-32 h-32 mx-auto bg-stellar-gold/20 rounded-full flex items-center justify-center mb-6">
									<span class="text-6xl text-stellar-gold">‚ú®</span>
								</div>
								<h3 class="text-xl font-bold text-solar-white mb-2">Dane Griggs</h3>
								<p class="text-solar-white/80">Sci-Fi Romance Author</p>
							</div>
						</div>
						
						<!-- Author Bio -->
						<div class="lg:col-span-2">
							<div class="prose prose-lg max-w-none">
								<p class="text-gray-700 text-lg leading-relaxed mb-6">
									{aboutPage.authorBio?.mainBio || siteConfig.authorBio || "Dane Griggs writes sci-fi romance novels featuring strong heroines and swoon-worthy heroes. With over 44 million pages read, her stories combine steamy romance with detailed world-building and characters who solve problems with their brains, not just their beauty."}
								</p>
								
								{aboutPage.authorBio?.secondaryBio && (
									<p class="text-gray-700 leading-relaxed mb-6">
										{aboutPage.authorBio.secondaryBio}
									</p>
								)}
								
								{aboutPage.authorBio?.tertiaryBio && (
									<p class="text-gray-700 leading-relaxed">
										{aboutPage.authorBio.tertiaryBio}
									</p>
								)}
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Stats Section -->
		<section class="py-16 bg-gradient-cosmic text-solar-white">
			<div class="container mx-auto px-4">
				<div class="text-center mb-12">
					<h2 class="text-3xl md:text-4xl font-primary font-bold mb-4">
						By the Numbers
					</h2>
					<p class="text-xl text-solar-white/90">
						The impact of storytelling across the galaxy
					</p>
				</div>
				
				<div class="grid grid-cols-2 md:grid-cols-4 gap-8">
					<div class="text-center">
						<div class="text-4xl md:text-5xl font-bold text-stellar-gold mb-2">
							{siteConfig.stats?.booksPublished || 13}
						</div>
						<div class="text-solar-white/80">Books Published</div>
					</div>
					
					<div class="text-center">
						<div class="text-4xl md:text-5xl font-bold text-stellar-gold mb-2">
							{siteConfig.stats?.pagesRead || "44M+"}
						</div>
						<div class="text-solar-white/80">Pages Read</div>
					</div>
					
					<div class="text-center">
						<div class="text-4xl md:text-5xl font-bold text-stellar-gold mb-2">
							{siteConfig.stats?.readerRatings || "9.3K+"}
						</div>
						<div class="text-solar-white/80">Reader Ratings</div>
					</div>
					
					<div class="text-center">
						<div class="text-4xl md:text-5xl font-bold text-stellar-gold mb-2">
							{siteConfig.stats?.averageRating || "4.3"}
						</div>
						<div class="text-solar-white/80">Average Rating</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Writing Philosophy Section -->
		<section class="py-16 bg-bg-secondary">
			<div class="container mx-auto px-4">
				<div class="max-w-4xl mx-auto">
					<div class="text-center mb-12">
						<h2 class="text-3xl md:text-4xl font-primary font-bold text-deep-space-navy mb-4">
							My Writing Philosophy
						</h2>
						<p class="text-lg text-gray-600">
							What makes my cosmic romances different
						</p>
					</div>
					
					<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
						{aboutPage.philosophyCards && aboutPage.philosophyCards.length > 0 ? aboutPage.philosophyCards.map((card: any) => (
							<div class="bg-white rounded-xl p-8 shadow-lg">
								<div class="text-4xl mb-4">{card.icon}</div>
								<h3 class="text-xl font-bold text-deep-space-navy mb-4">{card.title}</h3>
								<p class="text-gray-600">
									{card.description}
								</p>
							</div>
						)) : (
							<>
								<div class="bg-white rounded-xl p-8 shadow-lg">
									<div class="text-4xl mb-4">üß†</div>
									<h3 class="text-xl font-bold text-deep-space-navy mb-4">No Mary Sues Allowed</h3>
									<p class="text-gray-600">
										My heroines are real people first‚Äîflawed, opinionated, and refreshingly human. They're women with backbone who solve problems with their brains, not just their beauty.
									</p>
								</div>
								
								<div class="bg-white rounded-xl p-8 shadow-lg">
									<div class="text-4xl mb-4">üåå</div>
									<h3 class="text-xl font-bold text-deep-space-navy mb-4">Rich World-Building</h3>
									<p class="text-gray-600">
										Meticulously crafted cultures ‚Äî alien civilizations, fantasy realms, and speculative societies ‚Äî each with their own customs and believable worldbuilding.
									</p>
								</div>
								
								<div class="bg-white rounded-xl p-8 shadow-lg">
									<div class="text-4xl mb-4">üíù</div>
									<h3 class="text-xl font-bold text-deep-space-navy mb-4">Heart & Humor</h3>
									<p class="text-gray-600">
										Steamy romance with emotional depth, laugh-out-loud moments, and happily ever afters. Love should be fun, passionate, and built on mutual respect and understanding.
									</p>
								</div>
								
								<div class="bg-white rounded-xl p-8 shadow-lg">
									<div class="text-4xl mb-4">üî¨</div>
									<h3 class="text-xl font-bold text-deep-space-navy mb-4">Scientific Foundation</h3>
									<p class="text-gray-600">
										Extensive research goes into every alien species, medical procedure, and technological element. The fantasy is grounded in plausible science and realistic consequences.
									</p>
								</div>
							</>
						)}
					</div>
				</div>
			</div>
		</section>

		<!-- Connect Section -->
		<section class="py-16 bg-deep-space-navy text-solar-white">
			<div class="container mx-auto px-4 text-center">
				<div class="max-w-3xl mx-auto">
					<h2 class="text-3xl md:text-4xl font-primary font-bold mb-6">
						{aboutPage.connectSection?.title || "Let's Connect"}
					</h2>
					<p class="text-xl text-solar-white/90 mb-8">
						{aboutPage.connectSection?.description || "Join thousands of readers who love strong heroines, swoon-worthy heroes, and romances that combine heat with heart."}
					</p>
					
					<div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
						<a href="/books" class="btn btn-primary btn-lg px-8 py-4">
							Explore My Books
						</a>
						<a href="/contact" class="btn btn-secondary btn-lg px-8 py-4">
							Get in Touch
						</a>
					</div>
					
					{siteConfig.socialLinks && (
						<div class="mt-12">
							<p class="text-solar-white/80 mb-4">Find me online:</p>
							<div class="flex justify-center space-x-6">
								{siteConfig.socialLinks.facebook && (
									<a href={siteConfig.socialLinks.facebook} class="text-stellar-gold hover:text-solar-white transition-colors">
										Facebook
									</a>
								)}
								{siteConfig.socialLinks.goodreads && (
									<a href={siteConfig.socialLinks.goodreads} class="text-stellar-gold hover:text-solar-white transition-colors">
										Goodreads
									</a>
								)}
								{siteConfig.socialLinks.email && (
									<a href={`mailto:${siteConfig.socialLinks.email}`} class="text-stellar-gold hover:text-solar-white transition-colors">
										Email
									</a>
								)}
							</div>
						</div>
					)}
				</div>
			</div>
		</section>
	</main>
	
	<Footer />
</Layout>
